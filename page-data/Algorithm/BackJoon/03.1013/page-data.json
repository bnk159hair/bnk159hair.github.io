{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Algorithm/BackJoon/03.1013/",
    "result": {"data":{"cur":{"id":"f1b7ec26-111a-5c28-9728-05468eec2736","html":"<h1 id=\"백준-1013-contact\" style=\"position:relative;\"><a href=\"#%EB%B0%B1%EC%A4%80-1013-contact\" aria-label=\"백준 1013 contact permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>백준 1013, Contact</h1>\n<br/>\n<h2 id=\"문제-푸는데-필요한-정보\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%91%B8%EB%8A%94%EB%8D%B0-%ED%95%84%EC%9A%94%ED%95%9C-%EC%A0%95%EB%B3%B4\" aria-label=\"문제 푸는데 필요한 정보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 푸는데 필요한 정보</h2>\n<ul>\n<li>전파의 기본 단위는 { 0 , 1 } 두 가지로 구성되어있으며, x+ ( ) 는 임의의 개수(최소 1개) x의 반복으로 이루어진 전파의 집합을 나타낸다.</li>\n<li>반복을 의미하는 + 외에도 or 를 의미하는 | 기호가 있다. { x | y } 는 x 혹은 y 를 의미하는 것으로, { 0+ | 1+ } 는 { 0 , 1 , 00 , 11 , 000 , 111 , … } 의 집합을 의미한다.</li>\n<li>정리하면 뒤에 ’+‘가 붙은 숫자는 최소 1번이상 반복되어야하며, 괄호 뒤에 붙은 경우는 해당 괄호가 1회 이상 반복되는 것이다.</li>\n<li>문제에 있는 예시는 경우의 수가 순서대로 나오는 것이 아니여서 이해하는데 어려움이 있었다.</li>\n</ul>\n<br/>\r\n<br/>\n<h2 id=\"문제-푸는데-필요한-알고리즘\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%91%B8%EB%8A%94%EB%8D%B0-%ED%95%84%EC%9A%94%ED%95%9C-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\" aria-label=\"문제 푸는데 필요한 알고리즘 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 푸는데 필요한 알고리즘</h2>\n<ul>\n<li>백트래킹으로 접근해보았다.</li>\n<li>문제에서 제공하는 패턴인 (100+1+ | 01)+ 의 경우</li>\n<li>우선 괄호안을 볼 때</li>\n</ul>\n<ol>\n<li>100으로 시작하거나\n<ul>\n<li>100으로 시작하면 0이 반복 되어야 하고</li>\n<li>0이 아닌 1이 나오게 되면 다음 0과 1에 따라 경우의 수가 나뉜다.</li>\n<li>1+ 이기에 1이 여러번 반복될 수 있음을 염두해야하며 0이 나오게 된다면 2번에 해당할 수 있는 패턴이기에 1일 때마다 재귀 함수를 추가 호출한다.</li>\n<li>만약 0 이 나오면 바로 break해서 종료 &#x3C;- 내가 실수했던 부분</li>\n</ul>\n</li>\n<li>01로 시작해야한다.</li>\n</ol>\n<ul>\n<li>\n<p>위의 경우들이 계속 반복한다.\r\n<br/></p>\n<br/>\r\n<br/>\n</li>\n</ul>\n<h2 id=\"실수한-내용-및-고찰\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%88%98%ED%95%9C-%EB%82%B4%EC%9A%A9-%EB%B0%8F-%EA%B3%A0%EC%B0%B0\" aria-label=\"실수한 내용 및 고찰 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실수한 내용 및 고찰</h2>\n<ul>\n<li>문제를 읽고 이해하는데 20분이 넘게 걸렸다. 너무 여유롭게 파악하는 버릇이 생긴거 같다… 얼른 고쳐야지</li>\n<li>위에 ‘내가 실수했던 부분’ 코드를 작성하지 않아서 계속 틀렸었다.</li>\n<li>구현 문제를 풀때는 여러 상황과 조건을 미리 파악하고 코드를 작성해야겠다는 생각이 다시 들었다.</li>\n<li>오늘 코테를 만족스럽게 보지 못해서 다시 1일 1솔을 시작했는데… 열심히 해보자!</li>\n<li>(위의 경우가 아닌 정규표현식을 통해 푼 방법도 존재하던데 공부 해보아야겠다.)</li>\n</ul>\n<br/>\r\n<br/>\n<h2 id=\"코드\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C\" aria-label=\"코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sys\r\n\r\n<span class=\"token builtin\">input</span> <span class=\"token operator\">=</span> sys<span class=\"token punctuation\">.</span>stdin<span class=\"token punctuation\">.</span>readline\r\n\r\nT <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n\r\n\r\nresult <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\r\n\r\n\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">Find</span><span class=\"token punctuation\">(</span>in_str<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">,</span> debug<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token keyword\">global</span> result\r\n    <span class=\"token keyword\">if</span> result<span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">return</span>\r\n\r\n    <span class=\"token keyword\">if</span> idx <span class=\"token operator\">>=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>in_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n        result <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\r\n        <span class=\"token keyword\">return</span>\r\n\r\n    <span class=\"token keyword\">if</span> in_str<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">:</span>idx<span class=\"token operator\">+</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"100\"</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># 100과 같은지</span>\r\n        debug <span class=\"token operator\">+=</span> <span class=\"token string\">\"100\"</span>\r\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>idx<span class=\"token operator\">+</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>in_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token keyword\">if</span> in_str<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">:</span>\r\n                debug <span class=\"token operator\">+=</span> <span class=\"token string\">\"0\"</span>\r\n                <span class=\"token keyword\">continue</span>\r\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n                <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>in_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n                    <span class=\"token keyword\">if</span> in_str<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">:</span>\r\n                        debug <span class=\"token operator\">+=</span> <span class=\"token string\">\"1\"</span>\r\n\r\n                        Find<span class=\"token punctuation\">(</span>in_str<span class=\"token punctuation\">,</span> j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> debug<span class=\"token punctuation\">)</span>\r\n                    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n                        <span class=\"token keyword\">break</span>\r\n                <span class=\"token keyword\">break</span>\r\n    <span class=\"token keyword\">elif</span> in_str<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">:</span>idx<span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"01\"</span><span class=\"token punctuation\">:</span>\r\n        debug <span class=\"token operator\">+=</span> <span class=\"token string\">\"01\"</span>\r\n        Find<span class=\"token punctuation\">(</span>in_str<span class=\"token punctuation\">,</span> idx<span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> debug<span class=\"token punctuation\">)</span>\r\n\r\n\r\n<span class=\"token keyword\">for</span> t <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\r\n    result <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\r\n    Find<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">if</span> result<span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"YES\"</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"NO\"</span><span class=\"token punctuation\">)</span>\r\n\r\n</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%91%B8%EB%8A%94%EB%8D%B0-%ED%95%84%EC%9A%94%ED%95%9C-%EC%A0%95%EB%B3%B4\">문제 푸는데 필요한 정보</a></li>\n<li><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%91%B8%EB%8A%94%EB%8D%B0-%ED%95%84%EC%9A%94%ED%95%9C-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\">문제 푸는데 필요한 알고리즘</a></li>\n<li><a href=\"#%EC%8B%A4%EC%88%98%ED%95%9C-%EB%82%B4%EC%9A%A9-%EB%B0%8F-%EA%B3%A0%EC%B0%B0\">실수한 내용 및 고찰</a></li>\n<li><a href=\"#%EC%BD%94%EB%93%9C\">코드</a></li>\n</ul>\n</div>","excerpt":"백준 1013, Contact 문제 푸는데 필요한 정보 전파의 기본 단위는 { 0 , 1 } 두 가지로 구성되어있으며, x+ ( ) 는 임의의 개수(최소 1개) x의 반복으로 이루어진 전파의 집합을 나타낸다. 반복을 의미하는 + 외에도 or 를 의미하는 | 기호가 있다. { x | y } 는 x 혹은 y 를 의미하는 것으로, { 0+ | 1+ } 는 { 0 , 1 , 00 , 11 , 000 , 111 , … } 의 집합을 의미한다. 정리하면 뒤에 ’+‘가 붙은 숫자는 최소 1번이상 반복되어야하며, 괄호 뒤에 붙은 경우는 해당 괄호가 1회 이상 반복되는 것이다. 문제에 있는 예시는 경우의 수가 순서대로 나오는 것이 아니여서 이해하는데 어려움이 있었다. 문제 푸는데 필요한 알고리즘 백트래킹으로 접근해보았다. 문제에서 제공하는 패턴인 (100+1+ | 01)+ 의 경우 우선 괄호안을 볼 때 100으로 시작하거나 100으로 시작하면 0이 반복 되어야 하고 0이 아닌 1이 나오게 되면 다…","frontmatter":{"date":"August 05, 2023","title":"백준 1013, Contact","categories":"알고리즘","author":"하이영","emoji":"🔮"},"fields":{"slug":"/Algorithm/BackJoon/03.1013/"}},"next":{"id":"1c1f9d70-da5f-5c47-8464-79e1d5f15360","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>앞서 글에서 설명한 것처럼 SSAFY 2학기에 접어들면서 저 포함 6명의\r\n팀원이 함께 공통프로젝트를 진행하게 되었습니다.</p>\n<p>공통프로젝트는 WebRTC를 이용한 프로젝트를 진행하게 되는데 제 개인<br>\n클라우드 서버(오라클)과 SSAFY에서 지급한 EC2(AWS)에 WebRTC를<br>\n간편하게 사용할 수 있게 해주는 openvidu 서버를 구축해보면서<br>\n경험한 여러 삽질과 제가 이해한 내용에 대해 정리해보려 합니다.</p>\n<p><a href=\"https://bnk159hair.github.io/Tips/SSAFY/openvidu-series/openvidu-intro/#webrtcweb-real-time-communication%EB%9E%80\">앞선 글</a>을 읽고 이해하시면 아래 내용을 수행하는데 도움이 될거 같습니다.</p>\n<br/>\r\n<br/>\n<h2 id=\"목차\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%EC%B0%A8\" aria-label=\"목차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목차</h2>\n<ul>\n<li>구축하고자 하는 환경 설명</li>\n<li>설치 전 주의할 점</li>\n<li>도커 설치</li>\n<li>포트 개봉</li>\n<li>Deployment 설치</li>\n<li>파일 설정</li>\n<li>실행시키기</li>\n<li>NGINX 설정 변경</li>\n</ul>\n<br/>\r\n<br/>\n<h2 id=\"구축하고자-하는-환경-설명\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%B6%95%ED%95%98%EA%B3%A0%EC%9E%90-%ED%95%98%EB%8A%94-%ED%99%98%EA%B2%BD-%EC%84%A4%EB%AA%85\" aria-label=\"구축하고자 하는 환경 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구축하고자 하는 환경 설명</h2>\n<p>openvidu를 통해 화상 기능을 제공하는 것이 저희 프로젝트의 가장 핵심 포인트였기에, 로컬에서 openvidu 도커 이미지를 돌리며 개발하는 것이 아닌 백엔드 팀원이 바로 실제 서버에 배포시키고, 프론트엔드는 해당 서버에 접속하며 개발을 할 수 있는 환경을 구축하고 싶었습니다.</p>\n<p>대략적인 구상도를 그리면 아래와 같습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.44444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABmUlEQVQ4y42T247CUAhF+///5bvRWm18sFpvVeu99S5mkdDBGUclIeecAhvY0GC328nxeJTD4aBalqVqURT6Pp/Pajc1G6fF8EYajYYEl8tFTG63WwXC9/1+L9PpVJbLpaxWK9lsNnI6ndSOH/7I/X7XM45jCTCacPdvQGq1mkRRJPV6XQOu1+sfX/vW6XSeAanKv6lgu90qMNX6aqwL8/sX0LIhgOHU7Xal1+s9JcPvIyBOgMBZlmUV+TYgqqRaBonfy5bJYgHocDhUzlqtluR5Ll4Wi4U0m021jUYjnTqxNmUFBJ2MTM/uBFIhFRlXnLzn87nMZjP1w5/JoxXger2Wfr8v4/FYCUcJJivc0LIfCl1QGUIRaZrKYDD4WRuMBFKFgU0mE00CEFwlSVJxxx1aAPbb8MShFyphqmw9memAajnpIgxDabfbOjhbo5dTtv2iDZyNG/uOUCHAKFR8BLRgHIzo3zZbLV/ER0B4hTP/r5oN7qjQ2962DKdMDmV9PBi+8IqNHTXbW0AP4O+vaPm6ZZ/gG5sHfABvKyVwfswSVAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"구조도\"\n        title=\"구조도\"\n        src=\"/static/d33c6b645b2b4466a1824a6e19892220/37523/00.png\"\n        srcset=\"/static/d33c6b645b2b4466a1824a6e19892220/e9ff0/00.png 180w,\n/static/d33c6b645b2b4466a1824a6e19892220/f21e7/00.png 360w,\n/static/d33c6b645b2b4466a1824a6e19892220/37523/00.png 720w,\n/static/d33c6b645b2b4466a1824a6e19892220/5d030/00.png 771w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\r\n<br/>\n<h2 id=\"설치-전-주의할-점\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98-%EC%A0%84-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90\" aria-label=\"설치 전 주의할 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설치 전 주의할 점</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA+klEQVQoz1WSjYrDMAyD9/5vWbitl16T5j9p006HPDy2wIftQhTJ9HaeJ2KMcM4hhICcEvox0MeF/bzQxins48QYA8dxfLHvO67rAs/z+cRNGwpaa5FSgg8Bzr+wPiCVitoaWq3ovaOUgsa5NZl5/y2ow2OeMU0Tfu53GGPwO8/Cshgsxsg3TbFtm4jSMfk8b8EksS3suiJ4L05Jzlkq10J01pjqTJHItXVYH7HFhFAqQmmIOYsLChDuijCiVqLRCd2KYC4VD7PA/K1SF+uwOgdnrcTUqMR7L07ZawpNwAdEkMq1FIFupK/11dcqTnlJHbPnHf4hn5Vr+AexAR4bgT064QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"포트 이미지\"\n        title=\"포트 이미지\"\n        src=\"/static/221932cdd3d86c221832b49189f07ea8/37523/01.png\"\n        srcset=\"/static/221932cdd3d86c221832b49189f07ea8/e9ff0/01.png 180w,\n/static/221932cdd3d86c221832b49189f07ea8/f21e7/01.png 360w,\n/static/221932cdd3d86c221832b49189f07ea8/37523/01.png 720w,\n/static/221932cdd3d86c221832b49189f07ea8/38a65/01.png 1075w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>openvidu가 사용하는 포트는 위와 같습니다. 그런데 다른 프로세스들이 해당 포트를 사용하고 있으면 openvidu는 정상적으로 작동하지 않습니다.</li>\n<li>그래서 가장 좋은건 다른 무엇보다 먼저 openvidu를 설치하는 것입니다.\r\n저는 <a href=\"https://velog.io/@kwak0568/OpenVidu-%EB%B0%B0%ED%8F%AC-Port%EC%99%80%EC%9D%98-%EC%A0%84%EC%9F%81\">해당글</a>을 보고 서버를 받자마자 openvidu deployment를 설치했습니다.</li>\n<li>openvidu deployment에 커스텀된 NGINX도 포함되니 가급적 openvidu deployment 먼저 설치하시는걸 추천합니다.</li>\n</ul>\n<br/>\r\n<br/>\n<h2 id=\"도커-설치\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%BB%A4-%EC%84%A4%EC%B9%98\" aria-label=\"도커 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도커 설치</h2>\n<p>openvidu deployment를 설치하기 위해서는 도커가 설치되어 있어야 합니다.<br>\n가장 좋은건 <a href=\"https://docs.docker.com/engine/install/#server\">공식문서</a>를 보고 설치하는 것이지만 아래에도 적어 놓겠습니다. 서버의 OS가 Ubuntu 20.04이기에 아래 과정은 Ubuntu 20.04 기준입니다.</p>\n<br/>\n<h3 id=\"구버전-지우기\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EB%B2%84%EC%A0%84-%EC%A7%80%EC%9A%B0%EA%B8%B0\" aria-label=\"구버전 지우기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구버전 지우기</h3>\n<p>EC2를 새로 발급받은 상태면 필요없을 수 있지만 혹시 모르니 진행합니다.<br>\n지워야할 패키지는 다음과 같습니다.</p>\n<ul>\n<li>docker.io</li>\n<li>docker-compose</li>\n<li>docker-doc</li>\n<li>podman-docker</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done</code></pre></div>\n<br/>\n<h3 id=\"apt-repository를-통해-설치\" style=\"position:relative;\"><a href=\"#apt-repository%EB%A5%BC-%ED%86%B5%ED%95%B4-%EC%84%A4%EC%B9%98\" aria-label=\"apt repository를 통해 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>apt repository를 통해 설치</h3>\n<p>설치 방법도 4가지 정도 있지만 제기준 가장 편한 apt repository를 통해 설치하겠습니다.</p>\n<br/>\n<h4 id=\"repository-설정\" style=\"position:relative;\"><a href=\"#repository-%EC%84%A4%EC%A0%95\" aria-label=\"repository 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>repository 설정</h4>\n<ol>\n<li>apt 패키지 인덱스를 업데이트 하고 https로 repository를 이용할 수 있게 apt에 패키지를 설치합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get update\r\nsudo apt-get install ca-certificates curl gnupg</code></pre></div>\n<ol start=\"2\">\n<li>도커의 official GPG key를 추가합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo install -m 0755 -d /etc/apt/keyrings\r\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\r\nsudo chmod a+r /etc/apt/keyrings/docker.gpg</code></pre></div>\n<ol start=\"3\">\n<li>아래 명령어를 통해 repository를 설정합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">echo \\\r\n  \"deb [arch=\"$(dpkg --print-architecture)\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\r\n  \"$(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\")\" stable\" | \\\r\n  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null</code></pre></div>\n<ol start=\"4\">\n<li>apt 패키지 인덱스를 update 합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get update</code></pre></div>\n<br/>\n<h4 id=\"도커-엔진-설치\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%BB%A4-%EC%97%94%EC%A7%84-%EC%84%A4%EC%B9%98\" aria-label=\"도커 엔진 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도커 엔진 설치</h4>\n<ol>\n<li>아래 명령어를 통해 최신 버전의 도커 엔진, containerd, 도커 컴포즈를 설치합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</code></pre></div>\n<ol start=\"2\">\n<li>아래 명령어를 통해 도커 설치가 완료되었는지 확인합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo docker run hello-world</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABJ0AAASdAHeZh94AAACsUlEQVQ4y11TWXLTQBBV+IBQSUiFIlWQkEAcx3biTYttjWTtshbLipeYpAo+uCiC4gqchAsMPKpHXkI+prp7evrpve6WNP06/r53ePBjZ+fZr+cvdn8fv3v/kwXZNzvOijCfFyxICjfJi2AyK+wkL9q6VVzJg6KusqKuGUVDM4RfU3RhpXSxhDUaw0tyRNMlwnyBZPGw8YN8AWXoo+eEuOkPUVcZ6qqBmqKj2u2h2umJu4ZW3kn58jPXDJvLffbnuqP87WgD3lI0Xmk0+Xm1wc8ua/z0ospPPlT4ebXOj0/O+NHxW75/eMRf7h/w3b19/ur1G35aqfG6yrikezE6ugXVdCAzG82+iWbPQEtjuGorIicbDpShB3Xooyb3cdFU8PGmi0pLFQwv29qGqWQECYZRBjedggUJOoaLDnPQNVwoVoCu6YlYNj00+0OR7zkjaHYI1Qqg2gGue2bZCpJMyb4bQbPLJPn0kGLKUe/6Tig+pli+AOqaLpoDS/SUbENjon+CYZDNEU+X8LMpRrd3iGefhI3E3UxYL5siu3sQKvruaAPY1m20BhaulAFqCisBrThHfv8FzI9hhmMMvAjMT1bMRmUclLERpBi4FKcwwxS6H0P3IrSZvWU4HGWCYZjPN6zi2RL+eIZgMhds6c5J8k1MNp3fC7CyNeF2bZRhAHM0Fizc9FbsHEmRV8MgeW3moKXbwnYM8q2NT2/obADpC4K6H6+klTIJkKSsC6iY3pKlodEW0BoR0JU82Eq2k4lYGwKhHpE0b1yuEAHKpiuK6ax9UkGWlBBg+feUk5bseAIvncKKMjFNawWuWv5q58JypQQrB6odikmTgjXIYytRMcmkPmqrx7Rv9HWSSnLWh4q2sf4fs7UvWdFEgJFUK85gjlL4k7lYCzvJBfDjgqfnae4f/PTsdMgltMIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"설치 완료\"\n        title=\"설치 완료\"\n        src=\"/static/a52ebb1a7d38a1394ccb1ec430e9ce73/37523/02.png\"\n        srcset=\"/static/a52ebb1a7d38a1394ccb1ec430e9ce73/e9ff0/02.png 180w,\n/static/a52ebb1a7d38a1394ccb1ec430e9ce73/f21e7/02.png 360w,\n/static/a52ebb1a7d38a1394ccb1ec430e9ce73/37523/02.png 720w,\n/static/a52ebb1a7d38a1394ccb1ec430e9ce73/612f7/02.png 773w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\r\n위와 같이 화면이 나온다면 성공적으로 완료된 것입니다.\n<br/>\r\n<br/>\n<h2 id=\"포트-개방\" style=\"position:relative;\"><a href=\"#%ED%8F%AC%ED%8A%B8-%EA%B0%9C%EB%B0%A9\" aria-label=\"포트 개방 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>포트 개방</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ufw allow ssh\r\nufw allow 80/tcp\r\nufw allow 443/tcp\r\nufw allow 3478/tcp\r\nufw allow 3478/udp\r\nufw allow 40000:57000/tcp\r\nufw allow 40000:57000/udp\r\nufw allow 57001:65535/tcp\r\nufw allow 57001:65535/udp\r\nufw enable</code></pre></div>\n<br/>\r\n<br/>\n<p>포트 개방 전 ufw가 설치 되어있는지 확인하시기 바랍니다.(제가 받은 EC2는 설치 되어있었습니다.)</p>\n<h2 id=\"deployment-설치\" style=\"position:relative;\"><a href=\"#deployment-%EC%84%A4%EC%B9%98\" aria-label=\"deployment 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deployment 설치</h2>\n<ol>\n<li>/opt에 openvidu를 설치하는 것이 권장되기에 root 계정으로 전환합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo su</code></pre></div>\n<ol start=\"2\">\n<li>디렉토리 변경</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd /opt</code></pre></div>\n<ol start=\"3\">\n<li>openvidu deployment 다운로드</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl https://s3-eu-west-1.amazonaws.com/aws.openvidu.io/install_openvidu_latest.sh | bash</code></pre></div>\n<ol start=\"4\">\n<li>성공적으로 openvidu 폴더가 다운로드 되면 아래와 같은 화면이 나옵니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">=======================================\r\nOpenvidu Platform successfully installed.\r\n=======================================\r\n\r\n1. Go to openvidu folder:\r\n$ cd openvidu\r\n\r\n2. Configure DOMAIN_OR_PUBLIC_IP and OPENVIDU_SECRET in .env file:\r\n$ nano .env\r\n\r\n3. Start OpenVidu\r\n$ ./openvidu start\r\n\r\nFor more information, check:\r\nhttps://docs.openvidu.io/en/stable/deployment/ce/on-premises/</code></pre></div>\n<br/>\r\n<br/>\n<h2 id=\"파일-설정\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%9D%BC-%EC%84%A4%EC%A0%95\" aria-label=\"파일 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>파일 설정</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># OpenVidu configuration\r\n# ----------------------\r\n# Documentation: https://docs.openvidu.io/en/stable/reference-docs/openvidu-config/\r\n\r\n# NOTE: This file doesn't need to quote assignment values, like most shells do.\r\n# All values are stored as-is, even if they contain spaces, so don't quote them.\r\n\r\n# Domain name. If you do not have one, the public IP of the machine.\r\n# For example: 198.51.100.1, or openvidu.example.com\r\nDOMAIN_OR_PUBLIC_IP=\r\n\r\n# OpenVidu SECRET used for apps to connect to OpenVidu server and users to access to OpenVidu Dashboard\r\nOPENVIDU_SECRET=\r\n\r\n# Certificate type:\r\n# - selfsigned:  Self signed certificate. Not recommended for production use.\r\n#                Users will see an ERROR when connected to web page.\r\n# - owncert:     Valid certificate purchased in a Internet services company.\r\n#                Please put the certificates files inside folder ./owncert\r\n#                with names certificate.key and certificate.cert\r\n# - letsencrypt: Generate a new certificate using letsencrypt. Please set the\r\n#                required contact email for Let's Encrypt in LETSENCRYPT_EMAIL\r\n#                variable.\r\nCERTIFICATE_TYPE=selfsigned\r\n\r\n# If CERTIFICATE_TYPE=letsencrypt, you need to configure a valid email for notifications\r\nLETSENCRYPT_EMAIL=user@example.com\r\n...</code></pre></div>\n<p><code class=\"language-text\">.env</code> 파일을 수정해서 openvidu 환경설정을 마무리 해야합니다.</p>\n<ol>\n<li><code class=\"language-text\">DOMAIN_OR_PUBLIC_IP</code>과 <code class=\"language-text\">OPENVIDU_SECRET</code> 값을 변경해주세요. 값이 비어있으면 작동이 안됩니다.</li>\n<li><code class=\"language-text\">CERTIFICATE_TYPE</code>을 변경해야합니다. 기본값은 selfsigned일텐데 저희는 외부(프론트엔드)에서 접속을 할 것이기에 자동으로 인증서를 발급해주는 letsencrypt로 변경해주었습니다.<br>\n메일 주소도 설정해주어야 하는데 실제 존재하는 메일주소를 입력해주세요.<br>\n원래대로라면 NGINX를 설치하고 certbot을 통해 letsencrypt 인증서를 발급받아야하지만 openvidu deployment에서 위와 같은 작업을 .env 설정 변경을 통해 다 해줍니다. (저는 openvidu가 이러한 작업을 해주는지 모르고 여러 삽질을 했습니다.)</li>\n</ol>\n<br/>\r\n<br/>\n<h2 id=\"실행시키기\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89%EC%8B%9C%ED%82%A4%EA%B8%B0\" aria-label=\"실행시키기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행시키기</h2>\n<p>실행은 아래 명령어를 통해 실행시킬 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">./openvidu start</code></pre></div>\n<p>그러면 아래와 같은 화면이 나오게 되고</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Creating openvidu-docker-compose_coturn_1          ... done\r\nCreating openvidu-docker-compose_app_1             ... done\r\nCreating openvidu-docker-compose_kms_1             ... done\r\nCreating openvidu-docker-compose_nginx_1           ... done\r\nCreating openvidu-docker-compose_redis_1           ... done\r\nCreating openvidu-docker-compose_openvidu-server_1 ... done</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">----------------------------------------------------\r\n\r\n   OpenVidu Platform is ready!\r\n   ---------------------------\r\n\r\n   * OpenVidu Server: https://DOMAIN_OR_PUBLIC_IP/\r\n\r\n   * OpenVidu Dashboard: https://DOMAIN_OR_PUBLIC_IP/dashboard/\r\n\r\n----------------------------------------------------</code></pre></div>\n<p>해당 화면이 나오게 된다면 성공적으로 완료된 것입니다.<br>\nstart 외에도 stop, restart 같은 명령어를 사용할 수 있습니다.<br>\n./openvidu start를 하게 되면 도커 컴포즈 파일을 실행 시키는 것이기에</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">docker compose up -d</code></pre></div>\n<p>로 진행해도 성공적으로 작동하게 됩니다.</p>\n<br/>\r\n<br/>\n<h2 id=\"내가-개발한-openvidu-based-application-배포\" style=\"position:relative;\"><a href=\"#%EB%82%B4%EA%B0%80-%EA%B0%9C%EB%B0%9C%ED%95%9C-openvidu-based-application-%EB%B0%B0%ED%8F%AC\" aria-label=\"내가 개발한 openvidu based application 배포 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>내가 개발한 openvidu based application 배포</h2>\n<p>본인이 개발한 openvidu based application을 배포 하고 싶다면 해당 어플리케이션을 도커 이미지화 한 다음\r\n<code class=\"language-text\">docker-compose.override.yml</code>을 수정해야합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">version: '3.1'\r\n\r\nservices:\r\n    app:\r\n        image: your-image-name:X.Y.Z\r\n        restart: on-failure\r\n        network_mode: host\r\n        environment:\r\n            - SERVER_PORT=5442\r\n            - OPENVIDU_URL=http://localhost:5443\r\n            - OPENVIDU_SECRET=${OPENVIDU_SECRET}</code></pre></div>\n<p>위의 코드에서 image를 application의 이미지로 수정하면 됩니다.<br>\n기본값은 openvidu가 제공하는 비디오 회의 앱입니다.<br>\n위의 이미지만 수정하면 도메인 주소로 접속시 설정한 어플리케이션이 나타나는 것을 확인할 수 있습니다.</p>\n<br/>\r\n<br/>\n<h2 id=\"nginx-설정-변경\" style=\"position:relative;\"><a href=\"#nginx-%EC%84%A4%EC%A0%95-%EB%B3%80%EA%B2%BD\" aria-label=\"nginx 설정 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NGINX 설정 변경</h2>\n<p>하지만 저의 경우에는 당장 프론트엔드 배포가 아닌 2개의 백엔드 서버를 올려야 했기에 NGINX 설정을 수정해야 했습니다.<br>\n저와 같은 사람을 위해 openvidu에서 어떻게 해야하는지 알려줍니다.</p>\n<ol>\n<li>openvidu가 정상적으로 돌아갈 수 있게 .env 파일을 수정한 후 최소 한번 openvidu server를 실행시켜야합니다. 그래야 nginx를 수정할 수 있는 default.conf가 생성 됩니다.</li>\n<li>nginx가 실행중일 때 아래 명령어를 통해 nginx의 설정 파일을 가져옵니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo su\r\ncd /opt/openvidu\r\ndocker-compose exec nginx cat /etc/nginx/conf.d/default.conf > custom-nginx.conf\r\ndocker-compose exec nginx cat /etc/nginx/nginx.conf > nginx.conf</code></pre></div>\n<p>위 명령어를 실행하면 <code class=\"language-text\">/opt/openvidu/custom-nginx.conf</code>와 <code class=\"language-text\">/opt/openvidu/nginx.conf</code>가 생성됩니다. 3. /opt/openvidu에서 생성된 custon-nginx.conf를 수정하면 됩니다. 4. nginx.conf도 수정할 수 있지만 아래의 코드를 지우면 custon-nginx.conf를 불러올 수 없습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">include /etc/nginx/conf.d/*.conf;\r\ninclude /etc/nginx/vhost.d/*.conf;</code></pre></div>\n<ol start=\"5\">\n<li>아래 코드를 추가하여 nginx 서비스에 volume을 추가합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    nginx:\r\n        ...\r\n        volumes:\r\n            ...\r\n            - ./custom-nginx.conf:/custom-nginx/custom-nginx.conf\r\n            - ./nginx.conf:/etc/nginx/nginx.conf</code></pre></div>\n<br/>\r\n추가적인 어플리케이션을 추가하고 싶다면 docker-compose 파일 수정과 nginx 파일 수정을 통해 완료할 수 있습니다.\n<p>저의 경우 custom-nginx.conf에 yourapp에 제가 작성한 백엔드 서버를 우선 넣었고, 비즈니스 백엔드 서버도 추가했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Your App\r\nupstream yourapp {\r\n    server localhost:5442;\r\n}\r\n\r\nupstream openviduserver {\r\n    server localhost:5443;\r\n}\r\n\r\nupstream backendserver {\r\n    server localhost:8081;\r\n}\r\n\r\nupstream jenkinsserver {\r\n    server localhost:10207;\r\n}\r\n...\r\n\r\nserver {\r\n    listen 443 ssl;\r\n    listen [::]:443 ssl;\r\n\r\n...\r\n\r\n   location /api/v1 {\r\n        proxy_pass http://backendserver;\r\n    }\r\n</code></pre></div>\n<p>docker-compose.override.yml은 다음과 같이 수정했구요</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">version: '3.1'\r\n\r\nservices:\r\n    # --------------------------------------------------------------\r\n    #\r\n    #    Change this if your want use your own application.\r\n    #    It's very important expose your application in port 5442\r\n    #    and use the http protocol.\r\n    #\r\n    #    Default Application\r\n    #\r\n    #    Openvidu-Call Version: 2.28.0\r\n    #\r\n    # --------------------------------------------------------------\r\n    app:\r\n        image: openvidu_api_server\r\n        restart: on-failure\r\n        network_mode: host\r\n        environment:\r\n            - SERVER_PORT=5442\r\n            - OPENVIDU_URL=http://localhost:5443\r\n            - OPENVIDU_SECRET=${OPENVIDU_SECRET}\r\n            - DB_URL=${DB_URL}\r\n            - DB_USER=${DB_USER}\r\n            - DB_PASSWD=${DB_PASSWD}\r\n        logging:\r\n            options:\r\n                max-size: \"${DOCKER_LOGS_MAX_SIZE:-100M}\"\r\n        volumes:\r\n            - /home/ubuntu/recordings:/var/lib/recordings\r\n\r\n    back:\r\n        image: api_server\r\n        restart: on-failure\r\n        network_mode: host\r\n        logging:\r\n            options:\r\n                max-size: \"${DOCKER_LOGS_MAX_SIZE:-100M}\"\r\n</code></pre></div>\n<!-- ## 삽질한 부분\r\n\r\n또한 제 컴퓨터의 크롬 브라우저는 성공적으로 서버 접속이 되는데, 다른 브라우저와\r\n팀원들의 컴퓨터는 접속할 수 없는 문제가 있었습니다\r\n이 문제는 .env 파일에서 ssl 관련 인증을 letsencrypt로 수정하면서 해결되었습니다.\r\n공식 문서에서 서로 다른 하드웨어에 서비스들을 각각 구축할 경우, 프록시 서버를 통해 통신해야한다고 이야기 했지만\r\n제 크롬 브라우저에서는 성공적으로 접속한 점과 openvidu 컨테이너에서 이미 nginx를 사용하는데, 내가 어떻게 건들 수 있나? 라는 생각 때문에 많은 삽질과 시간을 버렸습니다...\r\n우선 제 브라우저가 이상해서 접속이 되었던 것이고, openvidu deployment에서 nginx 컨테이너도 포함되어있기에 .env파일을 수정하는 것만으로 ssl 인증서 발급과 https 프록시 서버까지 해결해줍니다.\r\n편하게 사용하시면 됩니다.\r\n\r\n기본적으로 ./openvidu start 명령어는 docker compose 명령어를 실행하는 것이기에\r\ndocker에 대해서 잘 모르시는 분들은 공부를 해보시고 구축하시면 도움이 많이 될것입니다.\r\n\r\n처음 글을 작성할 때는 대단한 것을 발견한 것처럼 썼는데 docker compose가 어떻게 구성되는지 알고 나서는\r\n너무 당연한 내용들이네요 -->\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p><a href=\"https://velog.io/@ohsg97/openVidu-tutorial-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\">openvidu 개념1</a><br>\n<a href=\"https://2jinishappy.tistory.com/335\">openvidu 개념2</a><br>\n<a href=\"https://docs.openvidu.io/en/stable/application-server/openvidu-basic-java/\">openvidu 공식 문서-자바 어플리케이션 서버</a><br>\n<a href=\"https://docs.openvidu.io/en/stable/deployment/ce/on-premises/\">openvidu 공식 문서-온프레미스로 배포하기</a><br>\n<a href=\"https://docs.openvidu.io/en/stable/deployment/deploying-openvidu-apps/#with-docker\">openvidu 공식 문서-openvidu 어플리케이션 배포관련</a><br>\n<a href=\"https://docs.openvidu.io/en/stable/tutorials/openvidu-react/\">openvidu 공식 문서-openvidu 리액트 클라이언트 예제</a><br>\n<a href=\"https://docs.openvidu.io/en/2.28.0/troubleshooting/#162-modify-openvidu-nginx-configuration\">openvidu nginx 설정 변경</a>\r\n<a href=\"https://hoonti06.gitlab.io/wiki/deploying-openvidu-on-premises/#openvidu%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-application%EC%9D%84-openvidu%EA%B0%80-%EB%B0%B0%ED%8F%AC%EB%90%98%EB%8A%94-%EC%84%9C%EB%B2%84%EC%97%90-%EA%B0%99%EC%9D%B4-%EB%B0%B0%ED%8F%AC%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\">openvidu 배포 관련 게시글</a>\r\n<a href=\"https://velog.io/@kwak0568/OpenVidu-%EB%B0%B0%ED%8F%AC-Port%EC%99%80%EC%9D%98-%EC%A0%84%EC%9F%81\">싸피 선배님의 조언-포트관련</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EA%B0%9C%EC%9A%94\">개요</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AA%A9%EC%B0%A8\">목차</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B5%AC%EC%B6%95%ED%95%98%EA%B3%A0%EC%9E%90-%ED%95%98%EB%8A%94-%ED%99%98%EA%B2%BD-%EC%84%A4%EB%AA%85\">구축하고자 하는 환경 설명</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%84%A4%EC%B9%98-%EC%A0%84-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90\">설치 전 주의할 점</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8F%84%EC%BB%A4-%EC%84%A4%EC%B9%98\">도커 설치</a></p>\n<ul>\n<li>\n<p><a href=\"#%EA%B5%AC%EB%B2%84%EC%A0%84-%EC%A7%80%EC%9A%B0%EA%B8%B0\">구버전 지우기</a></p>\n</li>\n<li>\n<p><a href=\"#apt-repository%EB%A5%BC-%ED%86%B5%ED%95%B4-%EC%84%A4%EC%B9%98\">apt repository를 통해 설치</a></p>\n<ul>\n<li><a href=\"#repository-%EC%84%A4%EC%A0%95\">repository 설정</a></li>\n<li><a href=\"#%EB%8F%84%EC%BB%A4-%EC%97%94%EC%A7%84-%EC%84%A4%EC%B9%98\">도커 엔진 설치</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%8F%AC%ED%8A%B8-%EA%B0%9C%EB%B0%A9\">포트 개방</a></p>\n</li>\n<li>\n<p><a href=\"#deployment-%EC%84%A4%EC%B9%98\">Deployment 설치</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%8C%8C%EC%9D%BC-%EC%84%A4%EC%A0%95\">파일 설정</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%8B%A4%ED%96%89%EC%8B%9C%ED%82%A4%EA%B8%B0\">실행시키기</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%82%B4%EA%B0%80-%EA%B0%9C%EB%B0%9C%ED%95%9C-openvidu-based-application-%EB%B0%B0%ED%8F%AC\">내가 개발한 openvidu based application 배포</a></p>\n</li>\n<li>\n<p><a href=\"#nginx-%EC%84%A4%EC%A0%95-%EB%B3%80%EA%B2%BD\">NGINX 설정 변경</a></p>\n</li>\n<li>\n<p><a href=\"#reference\">Reference</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"August 05, 2023","title":"Openvidu Deployment EC2 온프레미스 구축 후기","categories":"개발공부 featured","author":"하이영","emoji":"💻"},"fields":{"slug":"/Development/SSAFY/openvidu-series/openvidu-deployment-test/"}},"prev":{"id":"4543335d-d9a1-53f2-a1a2-ac3f158a6160","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<br/>\r\n우분투를 통한 자바 스프링부트 서버 개발 및 빌드, 배포를 진행하다보니 특정 자바 버전으로 변경해야할 일이 생겼습니다.  \r\n(나중에는 도커를 배우게 되어서 도커를 많이 쓰게 되었지만...)  \r\n알고 있으면 나중에 필요할 때 바로 쓸 수 있기에 기록 목적으로 작성하게 되었습니다.\n<br/> \r\n<br/>\n<h2 id=\"자바-설치\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94-%EC%84%A4%EC%B9%98\" aria-label=\"자바 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바 설치</h2>\n<br/>\n<ol>\n<li>apt 패키지 인덱스 정보를 아래 명령어로 업데이트하여 자바 리스트를 갱신합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    sudo apt update</code></pre></div>\n<br/>\n<ol start=\"2\">\n<li>원하는 자바 버전을 설치합니다. 아래 예시는 8버전과 16버전을 설치합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    sudo apt install openjdk-8-jdk\r\n    sudo apt install openjdk-16-jdk</code></pre></div>\n<br/>\n<ol start=\"3\">\n<li>bashrc에 JAVA_HOME을 추가합니다.</li>\n</ol>\n<ul>\n<li>많은 application(Apache Hadoop 등)은 자바 위치를 찾기위해 <code class=\"language-text\">JAVA_HOME</code> 변수를 참조합니다. 이에 다른 어플리케이션에서 쉽게 사용할 수 있도록, JAVA_HOME을 설정합니다.</li>\n<li>(저는 바로 잘 잡았기에 실행하진 않았습니다.)\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo vi ~/.bashrc\r\nexport JAVA_HOME=$(readlink -f /usr/bin/java | sed \"s:bin/java::\")</code></pre></div>\n</li>\n</ul>\n<br/>\n<ol start=\"4\">\n<li>bashrc 변경 사항을 적용하기 위해 아래 명령어를 통해 bashrc를 1회 실행합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    source ~/.bashrc</code></pre></div>\n<br/>\r\n<br/>\n<h2 id=\"버전-변경-방법\" style=\"position:relative;\"><a href=\"#%EB%B2%84%EC%A0%84-%EB%B3%80%EA%B2%BD-%EB%B0%A9%EB%B2%95\" aria-label=\"버전 변경 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>버전 변경 방법</h2>\n<ol>\n<li>Ubuntu에서 application들의 다양한 버전 관리를 담당하는 update-alternatives 명령어를 이용하여 설치된 자바 버전을 확인합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    # 현재 자바 버전 확인\r\n    java -version\r\n\r\n    # 설치된 자바 버전 리스트 확인\r\n    update-alternatives --list java</code></pre></div>\n<ol start=\"2\">\n<li>버전을 변경하고자 한다면 아래 명령어 2가지를 실행한 후 java와 javac의 버전을 변경해 줍니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    sudo update-alternatives --config java\r\n    sudo update-alternatives --config javac</code></pre></div>\n<ol start=\"3\">\n<li>현재 자바 버전이 변경되었는지 확인합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    java -version</code></pre></div>\n<h2 id=\"참조\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%A1%B0\" aria-label=\"참조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참조</h2>\n<p><a href=\"https://mech2cs.tistory.com/entry/Ubuntu-2004-%EC%9E%90%EB%B0%94-JDK-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EB%B2%84%EC%A0%84-%EA%B4%80%EB%A6%AC\">Java JDK 설치 및 버전 관리 참조글</a></p>","frontmatter":{"date":"August 05, 2023","title":"Ubuntu 20.04 자바 JDK 설치 및 버전 관리","categories":"Ubuntu","author":"하이영","emoji":"💻"},"fields":{"slug":"/Development/Linux/java-jdk-management/"}},"site":{"siteMetadata":{"siteUrl":"https://bnk159hair.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/Algorithm/BackJoon/03.1013/","nextSlug":"/Development/SSAFY/openvidu-series/openvidu-deployment-test/","prevSlug":"/Development/Linux/java-jdk-management/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}